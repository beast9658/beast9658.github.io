{"title":"彻底搞懂nginx","uid":"efdc9b79c944d790c755000a59863fa6","slug":"彻底搞懂nginx","date":"2022-10-14T11:56:14.000Z","updated":"2023-04-21T10:48:36.783Z","comments":true,"path":"api/articles/彻底搞懂nginx.json","keywords":null,"cover":[],"content":"<h1 id=\"什么是nginx？\"><a href=\"#什么是nginx？\" class=\"headerlink\" title=\"什么是nginx？\"></a>什么是nginx？</h1><p>nginx是一个开源可靠的HTTP中间件代理服务。</p>\n<h1 id=\"配置目录\"><a href=\"#配置目录\" class=\"headerlink\" title=\"配置目录\"></a>配置目录</h1><h2 id=\"主配置文件\"><a href=\"#主配置文件\" class=\"headerlink\" title=\"主配置文件\"></a>主配置文件</h2><p>&#x2F;etc&#x2F;nginx&#x2F;nginx.conf<br>配置文件基本结构：</p>\n<p><img src=\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ed9a1394519f48c2a309824318238891~tplv-k3u1fbpfcp-zoom-1.image\"></p>\n<h1 id=\"nginx-开启，关闭，重启\"><a href=\"#nginx-开启，关闭，重启\" class=\"headerlink\" title=\"nginx 开启，关闭，重启\"></a>nginx 开启，关闭，重启</h1><p>开启 systemctl start nginx 关闭 nginx -s stop 重启，nginx -s reload （这个一般是在修改配置文件后，先用nginx -t 检查配置语法是否正确后，再用nginx -s reload 平滑重启）</p>\n<h2 id=\"日志文件\"><a href=\"#日志文件\" class=\"headerlink\" title=\"日志文件\"></a>日志文件</h2><p>&#x2F;var&#x2F;log&#x2F;nginx</p>\n<h1 id=\"发生错误的时候查找方法\"><a href=\"#发生错误的时候查找方法\" class=\"headerlink\" title=\"发生错误的时候查找方法\"></a>发生错误的时候查找方法</h1><p>最重要的就是错误日志，错误日志，错误日志，当发生错误的时候，首先第一要想到去查看错误日志，查看发生错误的原因。</p>\n<ul>\n<li>1，首先查看错误日志 tail -n 10 &#x2F;var&#x2F;log&#x2F;nginx&#x2F;error.log</li>\n<li>2，找到错误原因，修改配置文件 &#x2F;etc&#x2F;nginx&#x2F;conf.d&#x2F;default.conf</li>\n<li>3，查看修改的错误命令是否争取 nginx -t</li>\n<li>4，平滑重启 nginx -s reload</li>\n</ul>\n<h1 id=\"server-name\"><a href=\"#server-name\" class=\"headerlink\" title=\"server_name\"></a>server_name</h1><h2 id=\"优先级\"><a href=\"#优先级\" class=\"headerlink\" title=\"优先级\"></a>优先级</h2><p>1，当在多个serve中匹配了相同的server_name 最先出现的优先级是最高的。</p>\n<h1 id=\"location\"><a href=\"#location\" class=\"headerlink\" title=\"location\"></a>location</h1><h2 id=\"location-匹配规则\"><a href=\"#location-匹配规则\" class=\"headerlink\" title=\"location 匹配规则\"></a>location 匹配规则</h2><ul>\n<li>1 &#x3D; 表示精确匹配。只有请求的url路径与后面的字符串完全相等时，才会命中。</li>\n<li>2 ~ 表示该规则是使用正则定义的，区分大小写。</li>\n<li>3 ~* 表示该规则是使用正则定义的，不区分大小写。</li>\n<li>4 ^~ 表示如果该符号后面的字符是最佳匹配，采用该规则，不再进行后续的查找。 匹配顺序</li>\n<li>1 如果匹配到 &#x3D; ， 也就是精确匹配到url，则返回</li>\n<li>2 如果匹配到^~,则返回，并且不会想下匹配。这里我曾经遇到过在同一服务器上同时部署两个react单页项目的时候，一个react A 项目放在&#x2F;home目录下，一个react B项目放在&#x2F;codsse目录下，因为写了如下规则</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">^~ &#x2F;codsse &#123;\n    ...\n&#125;\n复制代码</code></pre>\n\n<p>导致当url是&#x2F;codesse&#x2F;的时候，可以匹配到B项目的index.html,但是同时在B中index.html中的js也匹配到了B项目的index.html,所以导致形成了一个死循环。</p>\n<ul>\n<li>3 接下来匹配正则表达式的，~ 或者~*的，如果匹配到则返回</li>\n<li>4 最后都没匹配到，则返回最大匹配的或者404</li>\n<li>5 &#x3D; &gt; ^~ &gt; <del>&#x2F;</del>* 优先级</li>\n</ul>\n<h1 id=\"try-files\"><a href=\"#try-files\" class=\"headerlink\" title=\"try_files\"></a>try_files</h1><p>try_files 试图寻找的文件</p>\n<h1 id=\"alias与root的区别\"><a href=\"#alias与root的区别\" class=\"headerlink\" title=\"alias与root的区别\"></a>alias与root的区别</h1><p>root会把匹配到location连在一起去访问 比如有以下配置</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">location &#x2F;cat &#123;\n    root &#x2F;cat&#x2F;imgs&#x2F;;\n&#125;\n复制代码</code></pre>\n\n<p>当访问 xx&#x2F;cat&#x2F;a.png的时候，实际上是到 &#x2F;cat&#x2F;imgs&#x2F;cat&#x2F;a.png中去寻找 当alias是&#x2F;cat&#x2F;imgs 的时候，同样的网址，实际上到&#x2F;cat&#x2F;imgs&#x2F;a.png中去寻找</p>\n<h1 id=\"nginx-的访问控制\"><a href=\"#nginx-的访问控制\" class=\"headerlink\" title=\"nginx 的访问控制\"></a>nginx 的访问控制</h1><h2 id=\"http-access-module\"><a href=\"#http-access-module\" class=\"headerlink\" title=\"http_access_module\"></a>http_access_module</h2><p>deny 拒绝访问<br>allow 可以访问</p>\n<h1 id=\"作为静态资源服务器\"><a href=\"#作为静态资源服务器\" class=\"headerlink\" title=\"作为静态资源服务器\"></a>作为静态资源服务器</h1><h2 id=\"压缩静态资源\"><a href=\"#压缩静态资源\" class=\"headerlink\" title=\"压缩静态资源\"></a>压缩静态资源</h2><p>1， gzip：on<br>        gzip_comp_level: 2 (压缩级别)  </p>\n<h2 id=\"设置过期时间\"><a href=\"#设置过期时间\" class=\"headerlink\" title=\"设置过期时间\"></a>设置过期时间</h2><p>一般浏览器首先会检查max-age，如果过期，则会发送etag和Last-Modified到服务器验证 1， 设置过期时间<br>       expires</p>\n<h1 id=\"正向代理和反向代理\"><a href=\"#正向代理和反向代理\" class=\"headerlink\" title=\"正向代理和反向代理\"></a>正向代理和反向代理</h1><h2 id=\"正向代理？\"><a href=\"#正向代理？\" class=\"headerlink\" title=\"正向代理？\"></a>正向代理？</h2><p>正向代理就是代理客户端发起请求，比如我们经常使用的vpn</p>\n<h2 id=\"反向代理？\"><a href=\"#反向代理？\" class=\"headerlink\" title=\"反向代理？\"></a>反向代理？</h2><p>就是在服务器端进行代理，比如你访问一个域名，并不知道真正的实际资源是否通过nginx给代理到哪里去了。</p>\n<h1 id=\"跨域访问\"><a href=\"#跨域访问\" class=\"headerlink\" title=\"跨域访问\"></a>跨域访问</h1><p>设置可以nginx允许可以跨域访问</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">location &#x2F;sddss&#x2F; &#123;\n       proxy_redirect off; # 关闭重定向\n       add_header Access-Control-Allow-Origin *;\n   &#125;\n复制代码</code></pre>\n\n<h1 id=\"负载均衡\"><a href=\"#负载均衡\" class=\"headerlink\" title=\"负载均衡\"></a>负载均衡</h1><p>所谓的负载均衡其实就是通过nginx把请求转发到不同的服务器上面去。 每个服务可以配置一些参数，比如weight权重，比如max_fails等 负载均衡也可以选择不同的算法，比如轮询，比如ip—hash算法和url—hash算法等</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">upsteam ii &#123;\n    serve 1;\n    serve 2;\n&#125;\nserver &#123;\n    location &#x2F; &#123;\n        proxy_pass ii;\n        include proxy_params;\n    &#125;\n&#125;\n复制代码</code></pre>\n\n<h1 id=\"nginx-作为缓存服务器\"><a href=\"#nginx-作为缓存服务器\" class=\"headerlink\" title=\"nginx 作为缓存服务器\"></a>nginx 作为缓存服务器</h1><p>nginx 作为中间缓存，使用proxy_cache_path</p>\n<h1 id=\"nginx-重定向url\"><a href=\"#nginx-重定向url\" class=\"headerlink\" title=\"nginx 重定向url\"></a>nginx 重定向url</h1><p>可以通过rewrite 根据正则匹配，把匹配到的url重定向到别的url中去</p>\n<h2 id=\"rewrite-语法\"><a href=\"#rewrite-语法\" class=\"headerlink\" title=\"rewrite 语法\"></a>rewrite 语法</h2><p>rewrite 正则 flag<br>flag 包括break，last,redirect，permanent break会直接去查找<br>而last相当于会继续向下匹配<br>rediect 临时重定向<br>permanent 永久重定向</p>\n<h2 id=\"rewrite-优先级\"><a href=\"#rewrite-优先级\" class=\"headerlink\" title=\"rewrite 优先级\"></a>rewrite 优先级</h2><p>sever 中的rewrite规则 &gt; location 中的rewrite规则</p>\n<h1 id=\"nginx-链接周期限制\"><a href=\"#nginx-链接周期限制\" class=\"headerlink\" title=\"nginx 链接周期限制\"></a>nginx 链接周期限制</h1><h2 id=\"使用模块\"><a href=\"#使用模块\" class=\"headerlink\" title=\"使用模块\"></a>使用模块</h2><p>secure_link_module 原理就是首先nginx根据一些信息返回下载链接包括md5和expries，然后下载的时候，nginx在进行验证md5和过期时间。 返回链接如下： &#x2F;download?mad5&#x3D;dsdsd&amp;expries&#x3D;112233222</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">location ~ &#123;\n   secure_link\n   secure_link_md5\n&#125;\n复制代码</code></pre>\n\n<h1 id=\"nginx-区分国内外ip\"><a href=\"#nginx-区分国内外ip\" class=\"headerlink\" title=\"nginx 区分国内外ip\"></a>nginx 区分国内外ip</h1><h2 id=\"使用模块-1\"><a href=\"#使用模块-1\" class=\"headerlink\" title=\"使用模块\"></a>使用模块</h2><p>http_geoip_module 可以根据访问的ip是否是国内ip，来进行限制访问</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">location &#x2F; &#123;\n    if ($geoip_country_code !&#x3D; CN) &#123;\n        return 403\n    &#125;\n&#125;\n复制代码</code></pre>\n\n<h1 id=\"nginx-https\"><a href=\"#nginx-https\" class=\"headerlink\" title=\"nginx https\"></a>nginx https</h1><h2 id=\"https-配置\"><a href=\"#https-配置\" class=\"headerlink\" title=\"https 配置\"></a>https 配置</h2><p>*1 安装openssl http_ssl_module *2 生成CA证书 *3 配置</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">server &#123;\n    listen      443;\n    server_name www.onedns.net;\n    ssl         on;\n    ssl_certificate     &#x2F;etc&#x2F;nginx&#x2F;ssl&#x2F;111net.pem;\n    ssl_certificate_key &#x2F;etc&#x2F;nginx&#x2F;ssl&#x2F;2222.key;\n    ssl_protocols       Tddsdss;\n    ssl_ciphers         dddssdss;\n复制代码</code></pre>\n\n<h2 id=\"https-服务优化\"><a href=\"#https-服务优化\" class=\"headerlink\" title=\"https 服务优化\"></a>https 服务优化</h2><p>*1 激活keepalive 长链接 *2 激活ssl cache 缓存</p>\n<h2 id=\"nginx-Lua\"><a href=\"#nginx-Lua\" class=\"headerlink\" title=\"nginx+ Lua\"></a>nginx+ Lua</h2><h2 id=\"Lua-基础语法\"><a href=\"#Lua-基础语法\" class=\"headerlink\" title=\"Lua 基础语法\"></a>Lua 基础语法</h2><ul>\n<li>1 ~&#x3D; 表示不等于</li>\n<li>2 字符串拼接 ..</li>\n</ul>\n<h2 id=\"根据ip进行不同内容的访问\"><a href=\"#根据ip进行不同内容的访问\" class=\"headerlink\" title=\"根据ip进行不同内容的访问\"></a>根据ip进行不同内容的访问</h2><p>基本原理： 当用户访问的时候，nginx 获得用户的ip，然后通过lua去访问ip数据库，然后让不同的ip访问不同的内容。</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">location &#x2F; &#123;\n    default_type &quot;text&#x2F;html&quot;;\n    content_by_lua_file &#x2F;opt&#x2F;as.lua;\n&#125;\n复制代码</code></pre>\n\n<h1 id=\"nginx-性能优化\"><a href=\"#nginx-性能优化\" class=\"headerlink\" title=\"nginx 性能优化\"></a>nginx 性能优化</h1><h2 id=\"ab接口压力测试工具\"><a href=\"#ab接口压力测试工具\" class=\"headerlink\" title=\"ab接口压力测试工具\"></a>ab接口压力测试工具</h2><p>ab -n 2000 -c 2 <a href=\"https://link.juejin.cn/?target=http://127.0.0.1\" title=\"http://127.0.0.1\">http://127.0.0.1</a></p>\n<h2 id=\"cpu亲和\"><a href=\"#cpu亲和\" class=\"headerlink\" title=\"cpu亲和\"></a>cpu亲和</h2><p>设置worker process 为cpu核数</p>\n<h1 id=\"nginx-安全\"><a href=\"#nginx-安全\" class=\"headerlink\" title=\"nginx 安全\"></a>nginx 安全</h1><h2 id=\"常见的攻击手段\"><a href=\"#常见的攻击手段\" class=\"headerlink\" title=\"常见的攻击手段\"></a>常见的攻击手段</h2><ul>\n<li>1 密码撞库</li>\n<li>2 文件上传漏洞</li>\n<li>3 sql 注入</li>\n</ul>\n","text":"什么是nginx？nginx是一个开源可靠的HTTP中间件代理服务。 配置目录主配置文件&#x2F;etc&#x2F;nginx&#x2F;nginx.conf配置文件基本结构： nginx 开启，关闭，重启开启 systemctl start nginx 关闭 nginx -s...","link":"","photos":[],"count_time":{"symbolsCount":"3.6k","symbolsTime":"3 mins."},"categories":[],"tags":[],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E4%BB%80%E4%B9%88%E6%98%AFnginx%EF%BC%9F\"><span class=\"toc-text\">什么是nginx？</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E9%85%8D%E7%BD%AE%E7%9B%AE%E5%BD%95\"><span class=\"toc-text\">配置目录</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%B8%BB%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">主配置文件</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#nginx-%E5%BC%80%E5%90%AF%EF%BC%8C%E5%85%B3%E9%97%AD%EF%BC%8C%E9%87%8D%E5%90%AF\"><span class=\"toc-text\">nginx 开启，关闭，重启</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">日志文件</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%8F%91%E7%94%9F%E9%94%99%E8%AF%AF%E7%9A%84%E6%97%B6%E5%80%99%E6%9F%A5%E6%89%BE%E6%96%B9%E6%B3%95\"><span class=\"toc-text\">发生错误的时候查找方法</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#server-name\"><span class=\"toc-text\">server_name</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BC%98%E5%85%88%E7%BA%A7\"><span class=\"toc-text\">优先级</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#location\"><span class=\"toc-text\">location</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#location-%E5%8C%B9%E9%85%8D%E8%A7%84%E5%88%99\"><span class=\"toc-text\">location 匹配规则</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#try-files\"><span class=\"toc-text\">try_files</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#alias%E4%B8%8Eroot%E7%9A%84%E5%8C%BA%E5%88%AB\"><span class=\"toc-text\">alias与root的区别</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#nginx-%E7%9A%84%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6\"><span class=\"toc-text\">nginx 的访问控制</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#http-access-module\"><span class=\"toc-text\">http_access_module</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E4%BD%9C%E4%B8%BA%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E6%9C%8D%E5%8A%A1%E5%99%A8\"><span class=\"toc-text\">作为静态资源服务器</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%8E%8B%E7%BC%A9%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90\"><span class=\"toc-text\">压缩静态资源</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%AE%BE%E7%BD%AE%E8%BF%87%E6%9C%9F%E6%97%B6%E9%97%B4\"><span class=\"toc-text\">设置过期时间</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E6%AD%A3%E5%90%91%E4%BB%A3%E7%90%86%E5%92%8C%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86\"><span class=\"toc-text\">正向代理和反向代理</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%AD%A3%E5%90%91%E4%BB%A3%E7%90%86%EF%BC%9F\"><span class=\"toc-text\">正向代理？</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%EF%BC%9F\"><span class=\"toc-text\">反向代理？</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E8%B7%A8%E5%9F%9F%E8%AE%BF%E9%97%AE\"><span class=\"toc-text\">跨域访问</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1\"><span class=\"toc-text\">负载均衡</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#nginx-%E4%BD%9C%E4%B8%BA%E7%BC%93%E5%AD%98%E6%9C%8D%E5%8A%A1%E5%99%A8\"><span class=\"toc-text\">nginx 作为缓存服务器</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#nginx-%E9%87%8D%E5%AE%9A%E5%90%91url\"><span class=\"toc-text\">nginx 重定向url</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#rewrite-%E8%AF%AD%E6%B3%95\"><span class=\"toc-text\">rewrite 语法</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#rewrite-%E4%BC%98%E5%85%88%E7%BA%A7\"><span class=\"toc-text\">rewrite 优先级</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#nginx-%E9%93%BE%E6%8E%A5%E5%91%A8%E6%9C%9F%E9%99%90%E5%88%B6\"><span class=\"toc-text\">nginx 链接周期限制</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BD%BF%E7%94%A8%E6%A8%A1%E5%9D%97\"><span class=\"toc-text\">使用模块</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#nginx-%E5%8C%BA%E5%88%86%E5%9B%BD%E5%86%85%E5%A4%96ip\"><span class=\"toc-text\">nginx 区分国内外ip</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BD%BF%E7%94%A8%E6%A8%A1%E5%9D%97-1\"><span class=\"toc-text\">使用模块</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#nginx-https\"><span class=\"toc-text\">nginx https</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#https-%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">https 配置</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#https-%E6%9C%8D%E5%8A%A1%E4%BC%98%E5%8C%96\"><span class=\"toc-text\">https 服务优化</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#nginx-Lua\"><span class=\"toc-text\">nginx+ Lua</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Lua-%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95\"><span class=\"toc-text\">Lua 基础语法</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%A0%B9%E6%8D%AEip%E8%BF%9B%E8%A1%8C%E4%B8%8D%E5%90%8C%E5%86%85%E5%AE%B9%E7%9A%84%E8%AE%BF%E9%97%AE\"><span class=\"toc-text\">根据ip进行不同内容的访问</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#nginx-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96\"><span class=\"toc-text\">nginx 性能优化</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#ab%E6%8E%A5%E5%8F%A3%E5%8E%8B%E5%8A%9B%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7\"><span class=\"toc-text\">ab接口压力测试工具</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#cpu%E4%BA%B2%E5%92%8C\"><span class=\"toc-text\">cpu亲和</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#nginx-%E5%AE%89%E5%85%A8\"><span class=\"toc-text\">nginx 安全</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%B8%B8%E8%A7%81%E7%9A%84%E6%94%BB%E5%87%BB%E6%89%8B%E6%AE%B5\"><span class=\"toc-text\">常见的攻击手段</span></a></li></ol></li></ol>","author":{"name":"Beastrong","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"webpack5三种mode默认配置对比","uid":"de3904e4fffd4a0033c6fe3d6902ae56","slug":"webpack5三种mode默认配置对比","date":"2022-10-21T14:49:27.000Z","updated":"2023-04-21T10:57:58.865Z","comments":true,"path":"api/articles/webpack5三种mode默认配置对比.json","keywords":null,"cover":null,"text":"虽然webpack的文档中已经给出了三种模式默认的配置项的配置，但是我还是好奇除了这些列出的配置，是否还有其他的配置之间的差异呢？ 导出三种模式的配置对象webpack的版本是V5.36.1，获取默认配置的源码路径为webpack/lib/WebpackOptionsDefaul...","link":"","photos":[],"count_time":{"symbolsCount":"40k","symbolsTime":"36 mins."},"categories":[],"tags":[],"author":{"name":"Beastrong","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"记录微前端micro-app的配置","uid":"b027df790b988095e3311de9321e5959","slug":"记录微前端micro-app的配置","date":"2022-09-23T14:31:25.000Z","updated":"2023-04-21T09:53:33.226Z","comments":true,"path":"api/articles/记录微前端micro-app的配置.json","keywords":null,"cover":null,"text":"介绍：基座应用react 文章发布时，涉及到的依赖包版本： &#123; &quot;@micro-zoe&#x2F;micro-app&quot;: &quot;^0.8.4&quot;, &#125; 复制代码 文章默认您已经大致浏览过micro-app官方文档，所以最好请先...","link":"","photos":[],"count_time":{"symbolsCount":"5.9k","symbolsTime":"5 mins."},"categories":[],"tags":[],"author":{"name":"Beastrong","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}